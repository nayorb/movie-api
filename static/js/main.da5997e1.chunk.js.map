{"version":3,"sources":["hooks/useLocalStorage.js","store.js","constants/colors.js","components/Nav.js","hooks/useFetch.js","constants/api.js","components/Pagination.js","hooks/useSearch.js","hooks/useFavourites.js","pages/MovieSearchPage.js","pages/FavouriteMoviesPage.js","pages/MovieDetailPage.js","App.js","index.js"],"names":["key","JSON","parse","localStorage","getItem","payload","setItem","stringify","useLocalStorage","load","save","initialState","searchText","activePage","totalPages","movies","favourites","store","createStore","state","type","favs","favsWithoutRemoved","filter","f","imdbID","RED","YELLOW","PRIMARY","WHITE","Nav","AppBar","position","Toolbar","to","Button","style","marginLeft","useFetch","urlBase","query","params","Object","keys","reduce","acc","idx","fetch","then","success","json","API_KEY","getArray","n","Array","fill","map","_","i","buttonStyle","marginRight","Pagination","setPage","onClick","disabled","useSearch","useSelector","dispatch","useDispatch","fetchData","getData","apikey","API","s","page","data","total","Search","setMoviesAction","Math","ceil","parseInt","totalResults","setTotalPagesAction","useEffect","text","setSearchTextAction","setActivePageAction","useFavourites","addFavourite","fav","removeFavourite","isInFavourites","some","MovieSearchPage","useState","setSearchText","search","searchNotValid","length","padding","display","flex","noValidate","autoComplete","onSubmit","e","preventDefault","TextField","error","width","label","variant","onChange","target","value","color","icon","List","m","ListItem","className","ListItemText","primary","Title","ListItemSecondaryAction","COLORS","FavouriteMoviesPage","title","IconButton","edge","aria-label","Bold","children","fontWeight","MovieDetailPage","match","history","movie","setMovie","id","Card","CardHeader","avatar","Avatar","imdbRating","action","subheader","Released","CardMedia","image","Poster","height","paddingTop","CardContent","Typography","component","Plot","paragraph","Genre","Country","Year","Runtime","Director","Writer","Actors","BoxOffice","App","CssBaseline","path","ReactDOM","render","document","getElementById"],"mappings":"mRAAwB,WASvB,MAAO,CARM,SAAAA,GACZ,OAAOC,KAAKC,MAAMC,aAAaC,QAAQJ,KAG3B,SAACA,EAAKK,GAClBF,aAAaG,QAAQN,EAAKC,KAAKM,UAAUF,MCHtBG,G,mBAAdC,E,KAAMC,E,KAEPC,EAAe,CACpBC,WAAY,GACZC,WAAY,EACZC,WAAY,EACZC,OAAQ,GACRC,WAAYP,EAAK,SAAW,IA6EhBQ,EAAQC,aA1EL,SAACC,EAAD,GAA+B,IAArBC,EAAoB,EAApBA,KAAMf,EAAc,EAAdA,QAC/B,OAAQe,GACP,IAAK,kBACJ,OAAO,eACHD,EADJ,CAECP,WAAYP,EACZQ,WAAY,IAEd,IAAK,kBACJ,OAAO,eACHM,EADJ,CAECN,WAAYR,IAEd,IAAK,kBACJ,OAAO,eACHc,EADJ,CAECL,WAAYT,IAEd,IAAK,aACJ,OAAO,eACHc,EADJ,CAECJ,OAAQV,IAEV,IAAK,gBACJ,IAAMgB,EAAI,sBAAOF,EAAMH,YAAb,CAAyBX,IAEnC,OADAK,EAAK,OAAQW,GACN,eACHF,EADJ,CAECH,WAAYK,IAEd,IAAK,mBACJ,IAAMC,EAAqBH,EAAMH,WAAWO,QAC3C,SAAAC,GAAC,OAAIA,EAAEC,SAAWpB,KAGnB,OADAK,EAAK,OAAQY,GACN,eACHH,EADJ,CAECH,WAAYM,IAEd,QACC,OAAOH,KAkCgCR,GCvF3B,GACde,IAAK,UACLC,OAAQ,UACRC,QAAS,UACTC,MAAO,W,2BCKO,SAASC,IACvB,OACC,kBAACC,EAAA,EAAD,CAAQC,SAAS,UAChB,kBAACC,EAAA,EAAD,KACC,kBAAC,IAAD,CAAMC,GAAG,KACR,kBAACC,EAAA,EAAD,gBAED,kBAAC,IAAD,CAAMD,GAAG,QACR,kBAACC,EAAA,EAAD,CAAQC,MAAO,CAAEC,WAAY,KAA7B,iBCjBL,IAgBeC,EAhBE,WAChB,OAAO,SAACC,GAA2B,IAAlBC,EAAiB,uDAAT,KACpBC,EAAS,GAUb,OATID,IACHC,EACC,IACAC,OAAOC,KAAKH,GAAOI,QAAO,SAACC,EAAK7C,EAAK8C,GAGpC,OAFAD,GAAe,IAARC,EAAY,IAAM,GACzBD,GAAG,UAAO7C,EAAP,YAAcwC,EAAMxC,MAErB,KAEE+C,MAAMR,EAAUE,GAAQO,MAAK,SAAAC,GAAO,OAAIA,EAAQC,YCZ1C,GACdC,QAAS,YCCJC,EAAW,SAAAC,GAAC,OAAI,IAAIC,MAAMD,GAAGE,OAAOC,KAAI,SAACC,EAAGC,GAAJ,OAAUA,EAAI,MAEtDC,EAAc,CACnBC,YAAa,GAGC,SAASC,EAAT,GAA0D,IAApC/C,EAAmC,EAAnCA,WAAYD,EAAuB,EAAvBA,WAAYiD,EAAW,EAAXA,QAC5D,OAAOhD,GAAcA,EAAa,EACjC,oCACC,4BACCsB,MAAOuB,EACPI,QAAS,kBAAMD,EAAQjD,EAAa,IACpCmD,SAAUnD,GAAc,GAEvB,KAEDuC,EAAStC,GAAY0C,KAAI,SAAAH,GAAC,OAC1B,4BACCjB,MAAOuB,EACPI,QAAS,kBAAMD,EAAQT,IACvBW,SAAUX,IAAMxC,EAChBb,IAAKqD,GAEJA,MAGH,4BACCjB,MAAOuB,EACPI,QAAS,kBAAMD,EAAQjD,EAAa,IACpCmD,SAAUnD,GAAcC,GAEvB,MAGA,KCvBL,IAsCemD,EAtCG,WAAO,IAAD,EACwBC,aAAY,SAAA/C,GAAK,OAAIA,KAA5DN,EADe,EACfA,WAAYD,EADG,EACHA,WAAYE,EADT,EACSA,WAC1BqD,EAAWC,cAOXC,EAAY/B,IAEZgC,EAAU,WACfD,EAAU,2BAA4B,CACrCE,OAAQC,EAAIrB,QACZsB,EAAG7D,EACH8D,KAAM7D,IACJmC,MAAK,SAAA2B,GATS,IAAA5D,EAHI6D,EAGJ7D,EAUN4D,EAAKE,OAVWV,ENoDE,SAAApD,GAAM,MAAK,CACzCK,KAAM,aACNf,QAASU,GMtD4B+D,CAAgB/D,IAH/B6D,EAcNG,KAAKC,KAAKC,SAASN,EAAKO,cAAgB,IAdzBf,ENkDG,SAAAS,GAAK,MAAK,CAC5CxD,KAAM,kBACNf,QAASuE,GMpD+BO,CAAoBP,QAwB5D,OANAQ,qBAAU,WACLxE,GACH0D,MAEC,CAACzD,EAAYD,IAET,CAtBe,SAAAyE,GAAI,OAAIlB,ENsCI,SAAAkB,GAAI,MAAK,CAC3CjE,KAAM,kBACNf,QAASgF,GMxC8BC,CAAoBD,KAwB1D,kBAAC,EAAD,CACCxE,WAAYA,EACZC,WAAYA,EACZgD,QA5BoB,SAAAY,GAAI,OAAIP,EN4CI,SAAAO,GAAI,MAAK,CAC3CtD,KAAM,kBACNf,QAASqE,GM9C8Ba,CAAoBb,SCJ7Cc,EAXO,WACrB,IAAMxE,EAAakD,aAAY,SAAA/C,GAAK,OAAIA,EAAMH,cACxCmD,EAAWC,cAMjB,MAAO,CAAEqB,aAHY,SAAAC,GAAG,OAAIvB,EPqEe,CAC3C/C,KAAM,gBACNf,QOvEwDqF,KAGjCC,gBAJC,SAAAlE,GAAM,OAAI0C,EP2ES,CAC3C/C,KAAM,mBACNf,QO7EiEoB,KAIzBmE,eAFjB,SAAAnE,GAAM,OAAIT,EAAW6E,MAAK,SAAArE,GAAC,OAAIA,EAAEC,SAAWA,MAEXT,e,+ECM1C,SAAS8E,IAAmB,IAAD,EACLC,mBAAS,IADJ,mBAClCnF,EADkC,KACtBoF,EADsB,KAEnCjF,EAASmD,aAAY,SAAA/C,GAAK,OAAIA,EAAMJ,UAElC6E,EAAmBJ,IAAnBI,eAJiC,EAMZ3B,IANY,mBAMlCgC,EANkC,KAM1BpC,EAN0B,KAQnCqC,EAAiB,kBAAMtF,EAAWuF,OAAS,GAAKvF,EAAWuF,OAAS,GAE1E,OACC,yBAAK/D,MAAO,CAAEgE,QAAS,KACtB,2CACA,yBAAKhE,MAAO,CAAEiE,QAAS,SACtB,0BACCjE,MAAO,CAAEkE,KAAM,GACfC,YAAU,EACVC,aAAa,MACbC,SAAU,SAAAC,GACTA,EAAEC,iBACE/F,EAAWuF,QAAU,GACxBF,EAAOrF,KAIT,kBAACgG,EAAA,EAAD,CACCC,MAAOX,IACP9D,MAAO,CAAE0E,MAAO,0BAChBC,MAAOb,IAAmB,yBAA2B,SACrDc,QAAQ,WACRC,SAAU,SAAAP,GAAC,OAAIV,EAAcU,EAAEQ,OAAOC,QACtCA,MAAOvG,KAGT,kBAACuB,EAAA,EAAD,CACCiF,MAAM,UACNJ,QAAQ,YACRK,KAAK,SACLrD,SAAUpD,EAAWuF,OAAS,EAC9BpC,QAAS,kBAAMkC,EAAOrF,IACtBwB,MAAO,CAAEC,WAAY,KANtB,WAWD,kBAACiF,EAAA,EAAD,KACEvG,GACAA,EAAOyC,KAAI,SAAC+D,EAAG7D,GAAJ,OACV,kBAAC8D,EAAA,EAAD,CAAUxH,IAAK0D,GACd,kBAAC,IAAD,CAAMxB,GAAE,kBAAaqF,EAAE9F,QAAUgG,UAAU,aAC1C,kBAACC,EAAA,EAAD,CAAcC,QAASJ,EAAEK,SAE1B,kBAACC,EAAA,EAAD,KACEjC,EAAe2B,EAAE9F,QACjB,kBAAC,IAAD,CAAUW,MAAO,CAAEgF,MAAOU,EAAOnG,UAEjC,kBAAC,IAAD,YAMLkC,G,8BCjEW,SAASkE,IAAuB,IAAD,EACLvC,IAAhCG,EADqC,EACrCA,gBAAiB3E,EADoB,EACpBA,WAEzB,OACC,yBAAKoB,MAAO,CAAEgE,QAAS,KACtB,+CACA,kBAACkB,EAAA,EAAD,KACEtG,GACAA,EAAWwC,KAAI,SAAC+D,EAAG7D,GAAJ,OACd,kBAAC8D,EAAA,EAAD,CAAUxH,IAAK0D,GACd,kBAAC,IAAD,CAAMxB,GAAE,kBAAaqF,EAAE9F,QAAUgG,UAAU,aAC1C,kBAACC,EAAA,EAAD,CAAcC,QAASJ,EAAES,SAE1B,kBAACH,EAAA,EAAD,KACC,kBAACI,EAAA,EAAD,CACCC,KAAK,MACLC,aAAW,SACXpE,QAAS,kBAAM4B,EAAgB4B,EAAE9F,UAEjC,kBAAC,IAAD,CAAYW,MAAO,CAAEgF,MAAOU,EAAOpG,e,yDChBtC0G,EAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACZ,0BAAMjG,MAAO,CAAEkG,WAAY,SAAWD,IAGxB,SAASE,EAAT,GAA8C,IAAnBC,EAAkB,EAAlBA,MAAkB,KAAXC,QACtB1C,mBAAS,OADwB,mBACpD2C,EADoD,KAC7CC,EAD6C,OAEDnD,IAAlDC,EAFmD,EAEnDA,aAAcG,EAFqC,EAErCA,eAAgBD,EAFqB,EAErBA,gBAChCtB,EAAY/B,IAElB8C,qBAAU,WACTf,EAAU,0BAA2B,CACpCE,OAAQC,EAAIrB,QACZO,EAAG8E,EAAM/F,OAAOmG,KACd5F,MAAK,SAAA2B,GACPgE,EAAShE,SAYX,OACC,yBAAKvC,MAAO,CAAEgE,QAAS,KACrBsC,EACA,kBAACG,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CACCC,OAAQ,kBAACC,EAAA,EAAD,CAAQb,aAAW,UAAUO,EAAMO,YAC3CC,OACC,kBAACjB,EAAA,EAAD,CAAYE,aAAW,WAAWpE,QAfpB,WACf2E,GAAS9C,EAAe8C,EAAMjH,QACjCkE,EAAgB+C,EAAMjH,QAEtBgE,EAAa,CAAEhE,OAAQiH,EAAMjH,OAAQuG,MAAOU,EAAMd,UAY5ChC,EAAe8C,EAAMjH,QACrB,kBAAC,IAAD,CAAUW,MAAO,CAAEgF,MAAOU,EAAOnG,UAEjC,kBAAC,IAAD,OAIHqG,MAAOU,EAAMd,MACbuB,UAAWT,EAAMU,WAElB,kBAACC,EAAA,EAAD,CACCC,MAAOZ,EAAMa,OACbvB,MAAOU,EAAMd,MACbxF,MAAO,CACNoH,OAAQ,EACRC,WAAY,SAGd,kBAACC,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAY3C,QAAQ,QAAQI,MAAM,gBAAgBwC,UAAU,KAC1DlB,EAAMmB,OAGT,kBAACH,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAYG,WAAS,GACpB,kBAACH,EAAA,EAAD,KAAajB,EAAMqB,OACnB,kBAACJ,EAAA,EAAD,KACEjB,EAAMsB,QADR,MACoBtB,EAAMuB,KAD1B,MACmCvB,EAAMwB,UAG1C,kBAACP,EAAA,EAAD,CAAYG,WAAS,GACpB,kBAACH,EAAA,EAAD,KACC,kBAAC,EAAD,kBADD,IACyBjB,EAAMyB,UAE/B,kBAACR,EAAA,EAAD,KACC,kBAAC,EAAD,iBADD,IACwBjB,EAAM0B,QAE9B,kBAACT,EAAA,EAAD,KACC,kBAAC,EAAD,gBADD,IACuBjB,EAAM2B,QAE7B,kBAACV,EAAA,EAAD,KACC,kBAAC,EAAD,kBADD,IACyBjB,EAAM4B,cAK/B,M,cCjEQC,OAlBf,WACC,OACC,kBAAC,IAAD,CAAUtJ,MAAOA,GAChB,kBAACuJ,GAAA,EAAD,MACA,kBAAC,IAAD,KACC,yBAAK/C,UAAU,OACd,kBAAC3F,EAAD,MACA,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAO2I,KAAK,OAAOb,UAAW7B,IAC9B,kBAAC,IAAD,CAAO0C,KAAK,cAAcb,UAAWrB,IACrC,kBAAC,IAAD,CAAOkC,KAAK,IAAIb,UAAW9D,SCpBjC4E,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.da5997e1.chunk.js","sourcesContent":["const useLocalStorage = () => {\n\tconst load = key => {\n\t\treturn JSON.parse(localStorage.getItem(key))\n\t}\n\n\tconst save = (key, payload) => {\n\t\tlocalStorage.setItem(key, JSON.stringify(payload))\n\t}\n\n\treturn [load, save]\n}\n\nexport default useLocalStorage\n","import { createStore } from 'redux'\nimport useLocalStorage from './hooks/useLocalStorage'\n\nconst [load, save] = useLocalStorage()\n\nconst initialState = {\n\tsearchText: '',\n\tactivePage: 1,\n\ttotalPages: 0,\n\tmovies: [],\n\tfavourites: load('favs') || [],\n}\n\nconst reducer = (state, { type, payload }) => {\n\tswitch (type) {\n\t\tcase 'SET_SEARCH_TEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearchText: payload,\n\t\t\t\tactivePage: 1,\n\t\t\t}\n\t\tcase 'SET_ACTIVE_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactivePage: payload,\n\t\t\t}\n\t\tcase 'SET_TOTAL_PAGES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotalPages: payload,\n\t\t\t}\n\t\tcase 'SET_MOVIES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovies: payload,\n\t\t\t}\n\t\tcase 'ADD_FAVOURITE':\n\t\t\tconst favs = [...state.favourites, payload]\n\t\t\tsave('favs', favs)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfavourites: favs,\n\t\t\t}\n\t\tcase 'REMOVE_FAVOURITE':\n\t\t\tconst favsWithoutRemoved = state.favourites.filter(\n\t\t\t\tf => f.imdbID !== payload\n\t\t\t)\n\t\t\tsave('favs', favsWithoutRemoved)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfavourites: favsWithoutRemoved,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const setSearchTextAction = text => ({\n\ttype: 'SET_SEARCH_TEXT',\n\tpayload: text,\n})\n\nexport const setActivePageAction = page => ({\n\ttype: 'SET_ACTIVE_PAGE',\n\tpayload: page,\n})\n\nexport const setTotalPagesAction = total => ({\n\ttype: 'SET_TOTAL_PAGES',\n\tpayload: total,\n})\n\nexport const setMoviesAction = movies => ({\n\ttype: 'SET_MOVIES',\n\tpayload: movies,\n})\n\nexport const addFavouriteAction = movie => ({\n\ttype: 'ADD_FAVOURITE',\n\tpayload: movie,\n})\n\nexport const removeFavouriteAction = id => ({\n\ttype: 'REMOVE_FAVOURITE',\n\tpayload: id,\n})\n\nexport const store = createStore(reducer, initialState)\n","export default {\n\tRED: '#9d0b0b',\n\tYELLOW: '#c9bf32',\n\tPRIMARY: '#3f51b5',\n\tWHITE: '#f9f9f9',\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport COLORS from '../constants/colors'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\n\nexport default function Nav() {\n\treturn (\n\t\t<AppBar position='static'>\n\t\t\t<Toolbar>\n\t\t\t\t<Link to='/'>\n\t\t\t\t\t<Button>Search</Button>\n\t\t\t\t</Link>\n\t\t\t\t<Link to='/fav'>\n\t\t\t\t\t<Button style={{ marginLeft: 10 }}>Favourites</Button>\n\t\t\t\t</Link>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n","const useFetch = () => {\n\treturn (urlBase, query = null) => {\n\t\tlet params = ''\n\t\tif (query) {\n\t\t\tparams =\n\t\t\t\t'?' +\n\t\t\t\tObject.keys(query).reduce((acc, key, idx) => {\n\t\t\t\t\tacc += idx !== 0 ? '&' : ''\n\t\t\t\t\tacc += `${key}=${query[key]}`\n\t\t\t\t\treturn acc\n\t\t\t\t}, '')\n\t\t}\n\t\treturn fetch(urlBase + params).then(success => success.json())\n\t}\n}\n\nexport default useFetch\n","export default {\n\tAPI_KEY: 'bee67ab4',\n}\n","import React from 'react'\n\nconst getArray = n => new Array(n).fill().map((_, i) => i + 1)\n\nconst buttonStyle = {\n\tmarginRight: 2,\n}\n\nexport default function Pagination({ totalPages, activePage, setPage }) {\n\treturn totalPages && totalPages > 0 ? (\n\t\t<>\n\t\t\t<button\n\t\t\t\tstyle={buttonStyle}\n\t\t\t\tonClick={() => setPage(activePage - 1)}\n\t\t\t\tdisabled={activePage <= 1}\n\t\t\t>\n\t\t\t\t{'<'}\n\t\t\t</button>\n\t\t\t{getArray(totalPages).map(n => (\n\t\t\t\t<button\n\t\t\t\t\tstyle={buttonStyle}\n\t\t\t\t\tonClick={() => setPage(n)}\n\t\t\t\t\tdisabled={n === activePage}\n\t\t\t\t\tkey={n}\n\t\t\t\t>\n\t\t\t\t\t{n}\n\t\t\t\t</button>\n\t\t\t))}\n\t\t\t<button\n\t\t\t\tstyle={buttonStyle}\n\t\t\t\tonClick={() => setPage(activePage + 1)}\n\t\t\t\tdisabled={activePage >= totalPages}\n\t\t\t>\n\t\t\t\t{'>'}\n\t\t\t</button>\n\t\t</>\n\t) : null\n}\n","import React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {\n\tsetTotalPagesAction,\n\tsetMoviesAction,\n\tsetSearchTextAction,\n\tsetActivePageAction,\n} from '../store'\n\nimport useFetch from './useFetch'\nimport API from '../constants/api'\nimport Pagination from '../components/Pagination'\n\nconst useSearch = () => {\n\tconst { activePage, searchText, totalPages } = useSelector(state => state)\n\tconst dispatch = useDispatch()\n\n\tconst setTotalPages = total => dispatch(setTotalPagesAction(total))\n\tconst setActivePage = page => dispatch(setActivePageAction(page))\n\tconst setSearchText = text => dispatch(setSearchTextAction(text))\n\tconst setMovies = movies => dispatch(setMoviesAction(movies))\n\n\tconst fetchData = useFetch()\n\n\tconst getData = () => {\n\t\tfetchData('https://www.omdbapi.com/', {\n\t\t\tapikey: API.API_KEY,\n\t\t\ts: searchText,\n\t\t\tpage: activePage,\n\t\t}).then(data => {\n\t\t\tsetMovies(data.Search)\n\t\t\tsetTotalPages(Math.ceil(parseInt(data.totalResults) / 10))\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (searchText) {\n\t\t\tgetData()\n\t\t}\n\t}, [activePage, searchText])\n\n\treturn [\n\t\tsetSearchText,\n\t\t<Pagination\n\t\t\tactivePage={activePage}\n\t\t\ttotalPages={totalPages}\n\t\t\tsetPage={setActivePage}\n\t\t/>,\n\t]\n}\n\nexport default useSearch\n","import { useSelector, useDispatch } from 'react-redux'\nimport { removeFavouriteAction, addFavouriteAction } from '../store'\n\nconst useFavourites = () => {\n\tconst favourites = useSelector(state => state.favourites)\n\tconst dispatch = useDispatch()\n\n\tconst removeFavourite = imdbID => dispatch(removeFavouriteAction(imdbID))\n\tconst addFavourite = fav => dispatch(addFavouriteAction(fav))\n\tconst isInFavourites = imdbID => favourites.some(f => f.imdbID === imdbID)\n\n\treturn { addFavourite, removeFavourite, isInFavourites, favourites }\n}\n\nexport default useFavourites\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport useSearch from '../hooks/useSearch'\nimport useFavourites from '../hooks/useFavourites'\nimport COLORS from '../constants/colors'\n\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport StarIcon from '@material-ui/icons/Star'\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\n\nimport { Link } from 'react-router-dom'\n\nexport default function MovieSearchPage() {\n\tconst [searchText, setSearchText] = useState('')\n\tconst movies = useSelector(state => state.movies)\n\n\tconst { isInFavourites } = useFavourites()\n\n\tconst [search, Pagination] = useSearch()\n\n\tconst searchNotValid = () => searchText.length > 0 && searchText.length < 3\n\n\treturn (\n\t\t<div style={{ padding: 20 }}>\n\t\t\t<h1>MovieSearch</h1>\n\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t<form\n\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\tnoValidate\n\t\t\t\t\tautoComplete='off'\n\t\t\t\t\tonSubmit={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tif (searchText.length >= 3) {\n\t\t\t\t\t\t\tsearch(searchText)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\terror={searchNotValid()}\n\t\t\t\t\t\tstyle={{ width: '-webkit-fill-available' }}\n\t\t\t\t\t\tlabel={searchNotValid() ? 'At least 3 characters.' : 'Search'}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tonChange={e => setSearchText(e.target.value)}\n\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t\t<Button\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\ticon='search'\n\t\t\t\t\tdisabled={searchText.length < 3}\n\t\t\t\t\tonClick={() => search(searchText)}\n\t\t\t\t\tstyle={{ marginLeft: 20 }}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<List>\n\t\t\t\t{movies &&\n\t\t\t\t\tmovies.map((m, i) => (\n\t\t\t\t\t\t<ListItem key={i}>\n\t\t\t\t\t\t\t<Link to={`/detail/${m.imdbID}`} className='list-item'>\n\t\t\t\t\t\t\t\t<ListItemText primary={m.Title} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t{isInFavourites(m.imdbID) ? (\n\t\t\t\t\t\t\t\t\t<StarIcon style={{ color: COLORS.YELLOW }} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<StarBorderIcon />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t</List>\n\t\t\t{Pagination}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport COLORS from '../constants/colors'\n\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport useFavourites from '../hooks/useFavourites'\n\nexport default function FavouriteMoviesPage() {\n\tconst { removeFavourite, favourites } = useFavourites()\n\n\treturn (\n\t\t<div style={{ padding: 20 }}>\n\t\t\t<h1>FavouriteMovies</h1>\n\t\t\t<List>\n\t\t\t\t{favourites &&\n\t\t\t\t\tfavourites.map((m, i) => (\n\t\t\t\t\t\t<ListItem key={i}>\n\t\t\t\t\t\t\t<Link to={`/detail/${m.imdbID}`} className='list-item'>\n\t\t\t\t\t\t\t\t<ListItemText primary={m.title} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tedge='end'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => removeFavourite(m.imdbID)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DeleteIcon style={{ color: COLORS.RED }} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n","import React, { useEffect, useState } from 'react'\nimport API from '../constants/api'\nimport useFavourites from '../hooks/useFavourites'\nimport useFetch from '../hooks/useFetch'\n\nimport COLORS from '../constants/colors'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport StarIcon from '@material-ui/icons/Star'\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport CardContent from '@material-ui/core/CardContent'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\n\nconst Bold = ({ children }) => (\n\t<span style={{ fontWeight: 'bold' }}>{children}</span>\n)\n\nexport default function MovieDetailPage({ match, history }) {\n\tconst [movie, setMovie] = useState(null)\n\tconst { addFavourite, isInFavourites, removeFavourite } = useFavourites()\n\tconst fetchData = useFetch()\n\n\tuseEffect(() => {\n\t\tfetchData('http://www.omdbapi.com/', {\n\t\t\tapikey: API.API_KEY,\n\t\t\ti: match.params.id,\n\t\t}).then(data => {\n\t\t\tsetMovie(data)\n\t\t})\n\t})\n\n\tconst starClicked = () => {\n\t\tif (movie && isInFavourites(movie.imdbID)) {\n\t\t\tremoveFavourite(movie.imdbID)\n\t\t} else {\n\t\t\taddFavourite({ imdbID: movie.imdbID, title: movie.Title })\n\t\t}\n\t}\n\n\treturn (\n\t\t<div style={{ padding: 20 }}>\n\t\t\t{movie ? (\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader\n\t\t\t\t\t\tavatar={<Avatar aria-label='recipe'>{movie.imdbRating}</Avatar>}\n\t\t\t\t\t\taction={\n\t\t\t\t\t\t\t<IconButton aria-label='settings' onClick={starClicked}>\n\t\t\t\t\t\t\t\t{isInFavourites(movie.imdbID) ? (\n\t\t\t\t\t\t\t\t\t<StarIcon style={{ color: COLORS.YELLOW }} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<StarBorderIcon />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={movie.Title}\n\t\t\t\t\t\tsubheader={movie.Released}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardMedia\n\t\t\t\t\t\timage={movie.Poster}\n\t\t\t\t\t\ttitle={movie.Title}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t\tpaddingTop: '50%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography variant='body2' color='textSecondary' component='p'>\n\t\t\t\t\t\t\t{movie.Plot}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t<Typography>{movie.Genre}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t{movie.Country} / {movie.Year} / {movie.Runtime}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Director:</Bold> {movie.Director}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Writers:</Bold> {movie.Writer}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Actors:</Bold> {movie.Actors}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Earnings:</Bold> {movie.BoxOffice}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t) : null}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport './App.css'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { Provider } from 'react-redux'\nimport { store } from './store'\n\nimport Nav from './components/Nav'\nimport MovieSearchPage from './pages/MovieSearchPage'\nimport FavouriteMoviesPage from './pages/FavouriteMoviesPage'\nimport MovieDetailPage from './pages/MovieDetailPage'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<CssBaseline />\n\t\t\t<Router>\n\t\t\t\t<div className='App'>\n\t\t\t\t\t<Nav />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/fav' component={FavouriteMoviesPage} />\n\t\t\t\t\t\t<Route path='/detail/:id' component={MovieDetailPage} />\n\t\t\t\t\t\t<Route path='/' component={MovieSearchPage} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</Provider>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}