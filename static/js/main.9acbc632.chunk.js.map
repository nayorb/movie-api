{"version":3,"sources":["hooks/useLocalStorage.js","store.js","constants/colors.js","components/Nav.js","hooks/useFetch.js","constants/api.js","components/Pagination.js","hooks/useSearch.js","hooks/useFavourites.js","pages/MovieSearchPage.js","pages/FavouriteMoviesPage.js","pages/MovieDetailPage.js","App.js","index.js"],"names":["key","JSON","parse","localStorage","getItem","payload","setItem","stringify","useLocalStorage","load","save","initialState","searchText","activePage","totalPages","movies","favourites","store","createStore","state","type","favs","favsWithoutRemoved","filter","f","imdbID","RED","YELLOW","PRIMARY","WHITE","Nav","AppBar","position","Toolbar","to","Button","style","marginLeft","useFetch","urlBase","query","params","Object","keys","reduce","acc","idx","fetch","then","success","json","API_KEY","getArray","n","Array","fill","map","_","i","buttonStyle","marginRight","Pagination","setPage","onClick","disabled","useSearch","useSelector","dispatch","useDispatch","fetchData","getData","apikey","API","s","page","data","total","Search","setMoviesAction","Math","ceil","parseInt","totalResults","setTotalPagesAction","useEffect","text","setSearchTextAction","setActivePageAction","useFavourites","addFavourite","fav","removeFavourite","isInFavourites","some","MovieSearchPage","useState","setSearchText","search","searchNotValid","length","padding","display","flex","noValidate","autoComplete","onSubmit","e","preventDefault","TextField","error","width","label","variant","onChange","target","value","color","icon","List","m","ListItem","className","ListItemText","primary","Title","ListItemSecondaryAction","COLORS","FavouriteMoviesPage","title","IconButton","edge","aria-label","Bold","children","fontWeight","MovieDetailPage","match","history","movie","setMovie","id","Card","CardHeader","avatar","Avatar","imdbRating","action","subheader","Released","CardMedia","image","Poster","height","paddingTop","CardContent","Typography","component","Plot","paragraph","Genre","Country","Year","Runtime","Director","Writer","Actors","BoxOffice","App","CssBaseline","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9acbc632.chunk.js","sourcesContent":["const useLocalStorage = () => {\r\n\tconst load = key => {\r\n\t\treturn JSON.parse(localStorage.getItem(key))\r\n\t}\r\n\r\n\tconst save = (key, payload) => {\r\n\t\tlocalStorage.setItem(key, JSON.stringify(payload))\r\n\t}\r\n\r\n\treturn [load, save]\r\n}\r\n\r\nexport default useLocalStorage\r\n","import { createStore } from 'redux'\r\nimport useLocalStorage from './hooks/useLocalStorage'\r\n\r\nconst [load, save] = useLocalStorage()\r\n\r\nconst initialState = {\r\n\tsearchText: '',\r\n\tactivePage: 1,\r\n\ttotalPages: 0,\r\n\tmovies: [],\r\n\tfavourites: load('favs') || [],\r\n}\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase 'SET_SEARCH_TEXT':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearchText: payload,\r\n\t\t\t\tactivePage: 1,\r\n\t\t\t}\r\n\t\tcase 'SET_ACTIVE_PAGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactivePage: payload,\r\n\t\t\t}\r\n\t\tcase 'SET_TOTAL_PAGES':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalPages: payload,\r\n\t\t\t}\r\n\t\tcase 'SET_MOVIES':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmovies: payload,\r\n\t\t\t}\r\n\t\tcase 'ADD_FAVOURITE':\r\n\t\t\tconst favs = [...state.favourites, payload]\r\n\t\t\tsave('favs', favs)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfavourites: favs,\r\n\t\t\t}\r\n\t\tcase 'REMOVE_FAVOURITE':\r\n\t\t\tconst favsWithoutRemoved = state.favourites.filter(\r\n\t\t\t\tf => f.imdbID !== payload\r\n\t\t\t)\r\n\t\t\tsave('favs', favsWithoutRemoved)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfavourites: favsWithoutRemoved,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setSearchTextAction = text => ({\r\n\ttype: 'SET_SEARCH_TEXT',\r\n\tpayload: text,\r\n})\r\n\r\nexport const setActivePageAction = page => ({\r\n\ttype: 'SET_ACTIVE_PAGE',\r\n\tpayload: page,\r\n})\r\n\r\nexport const setTotalPagesAction = total => ({\r\n\ttype: 'SET_TOTAL_PAGES',\r\n\tpayload: total,\r\n})\r\n\r\nexport const setMoviesAction = movies => ({\r\n\ttype: 'SET_MOVIES',\r\n\tpayload: movies,\r\n})\r\n\r\nexport const addFavouriteAction = movie => ({\r\n\ttype: 'ADD_FAVOURITE',\r\n\tpayload: movie,\r\n})\r\n\r\nexport const removeFavouriteAction = id => ({\r\n\ttype: 'REMOVE_FAVOURITE',\r\n\tpayload: id,\r\n})\r\n\r\nexport const store = createStore(reducer, initialState)\r\n","export default {\r\n\tRED: '#9d0b0b',\r\n\tYELLOW: '#c9bf32',\r\n\tPRIMARY: '#3f51b5',\r\n\tWHITE: '#f9f9f9',\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport COLORS from '../constants/colors'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function Nav() {\r\n\treturn (\r\n\t\t<AppBar position='static'>\r\n\t\t\t<Toolbar>\r\n\t\t\t\t<Link to='/'>\r\n\t\t\t\t\t<Button>Search</Button>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to='/fav'>\r\n\t\t\t\t\t<Button style={{ marginLeft: 10 }}>Favourites</Button>\r\n\t\t\t\t</Link>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n","const useFetch = () => {\r\n\treturn (urlBase, query = null) => {\r\n\t\tlet params = ''\r\n\t\tif (query) {\r\n\t\t\tparams =\r\n\t\t\t\t'?' +\r\n\t\t\t\tObject.keys(query).reduce((acc, key, idx) => {\r\n\t\t\t\t\tacc += idx !== 0 ? '&' : ''\r\n\t\t\t\t\tacc += `${key}=${query[key]}`\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, '')\r\n\t\t}\r\n\t\treturn fetch(urlBase + params).then(success => success.json())\r\n\t}\r\n}\r\n\r\nexport default useFetch\r\n","export default {\r\n\tAPI_KEY: 'bee67ab4',\r\n}\r\n","import React from 'react'\r\n\r\nconst getArray = n => new Array(n).fill().map((_, i) => i + 1)\r\n\r\nconst buttonStyle = {\r\n\tmarginRight: 2,\r\n}\r\n\r\nexport default function Pagination({ totalPages, activePage, setPage }) {\r\n\treturn totalPages && totalPages > 0 ? (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tstyle={buttonStyle}\r\n\t\t\t\tonClick={() => setPage(activePage - 1)}\r\n\t\t\t\tdisabled={activePage <= 1}\r\n\t\t\t>\r\n\t\t\t\t{'<'}\r\n\t\t\t</button>\r\n\t\t\t{getArray(totalPages).map(n => (\r\n\t\t\t\t<button\r\n\t\t\t\t\tstyle={buttonStyle}\r\n\t\t\t\t\tonClick={() => setPage(n)}\r\n\t\t\t\t\tdisabled={n === activePage}\r\n\t\t\t\t\tkey={n}\r\n\t\t\t\t>\r\n\t\t\t\t\t{n}\r\n\t\t\t\t</button>\r\n\t\t\t))}\r\n\t\t\t<button\r\n\t\t\t\tstyle={buttonStyle}\r\n\t\t\t\tonClick={() => setPage(activePage + 1)}\r\n\t\t\t\tdisabled={activePage >= totalPages}\r\n\t\t\t>\r\n\t\t\t\t{'>'}\r\n\t\t\t</button>\r\n\t\t</>\r\n\t) : null\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n\tsetTotalPagesAction,\r\n\tsetMoviesAction,\r\n\tsetSearchTextAction,\r\n\tsetActivePageAction,\r\n} from '../store'\r\n\r\nimport useFetch from './useFetch'\r\nimport API from '../constants/api'\r\nimport Pagination from '../components/Pagination'\r\n\r\nconst useSearch = () => {\r\n\tconst { activePage, searchText, totalPages } = useSelector(state => state)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst setTotalPages = total => dispatch(setTotalPagesAction(total))\r\n\tconst setActivePage = page => dispatch(setActivePageAction(page))\r\n\tconst setSearchText = text => dispatch(setSearchTextAction(text))\r\n\tconst setMovies = movies => dispatch(setMoviesAction(movies))\r\n\r\n\tconst fetchData = useFetch()\r\n\r\n\tconst getData = () => {\r\n\t\tfetchData('http://www.omdbapi.com/', {\r\n\t\t\tapikey: API.API_KEY,\r\n\t\t\ts: searchText,\r\n\t\t\tpage: activePage,\r\n\t\t}).then(data => {\r\n\t\t\tsetMovies(data.Search)\r\n\t\t\tsetTotalPages(Math.ceil(parseInt(data.totalResults) / 10))\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (searchText) {\r\n\t\t\tgetData()\r\n\t\t}\r\n\t}, [activePage, searchText])\r\n\r\n\treturn [\r\n\t\tsetSearchText,\r\n\t\t<Pagination\r\n\t\t\tactivePage={activePage}\r\n\t\t\ttotalPages={totalPages}\r\n\t\t\tsetPage={setActivePage}\r\n\t\t/>,\r\n\t]\r\n}\r\n\r\nexport default useSearch\r\n","import { useSelector, useDispatch } from 'react-redux'\r\nimport { removeFavouriteAction, addFavouriteAction } from '../store'\r\n\r\nconst useFavourites = () => {\r\n\tconst favourites = useSelector(state => state.favourites)\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst removeFavourite = imdbID => dispatch(removeFavouriteAction(imdbID))\r\n\tconst addFavourite = fav => dispatch(addFavouriteAction(fav))\r\n\tconst isInFavourites = imdbID => favourites.some(f => f.imdbID === imdbID)\r\n\r\n\treturn { addFavourite, removeFavourite, isInFavourites, favourites }\r\n}\r\n\r\nexport default useFavourites\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport useSearch from '../hooks/useSearch'\r\nimport useFavourites from '../hooks/useFavourites'\r\nimport COLORS from '../constants/colors'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport StarIcon from '@material-ui/icons/Star'\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function MovieSearchPage() {\r\n\tconst [searchText, setSearchText] = useState('')\r\n\tconst movies = useSelector(state => state.movies)\r\n\r\n\tconst { isInFavourites } = useFavourites()\r\n\r\n\tconst [search, Pagination] = useSearch()\r\n\r\n\tconst searchNotValid = () => searchText.length > 0 && searchText.length < 3\r\n\r\n\treturn (\r\n\t\t<div style={{ padding: 20 }}>\r\n\t\t\t<h1>MovieSearch</h1>\r\n\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t<form\r\n\t\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\tonSubmit={e => {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\tif (searchText.length >= 3) {\r\n\t\t\t\t\t\t\tsearch(searchText)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\terror={searchNotValid()}\r\n\t\t\t\t\t\tstyle={{ width: '-webkit-fill-available' }}\r\n\t\t\t\t\t\tlabel={searchNotValid() ? 'At least 3 characters.' : 'Search'}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tonChange={e => setSearchText(e.target.value)}\r\n\t\t\t\t\t\tvalue={searchText}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\ticon='search'\r\n\t\t\t\t\tdisabled={searchText.length < 3}\r\n\t\t\t\t\tonClick={() => search(searchText)}\r\n\t\t\t\t\tstyle={{ marginLeft: 20 }}\r\n\t\t\t\t>\r\n\t\t\t\t\tSearch\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<List>\r\n\t\t\t\t{movies &&\r\n\t\t\t\t\tmovies.map((m, i) => (\r\n\t\t\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t\t\t<Link to={`/detail/${m.imdbID}`} className='list-item'>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={m.Title} />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t{isInFavourites(m.imdbID) ? (\r\n\t\t\t\t\t\t\t\t\t<StarIcon style={{ color: COLORS.YELLOW }} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<StarBorderIcon />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t</List>\r\n\t\t\t{Pagination}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport COLORS from '../constants/colors'\r\n\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nimport useFavourites from '../hooks/useFavourites'\r\n\r\nexport default function FavouriteMoviesPage() {\r\n\tconst { removeFavourite, favourites } = useFavourites()\r\n\r\n\treturn (\r\n\t\t<div style={{ padding: 20 }}>\r\n\t\t\t<h1>FavouriteMovies</h1>\r\n\t\t\t<List>\r\n\t\t\t\t{favourites &&\r\n\t\t\t\t\tfavourites.map((m, i) => (\r\n\t\t\t\t\t\t<ListItem key={i}>\r\n\t\t\t\t\t\t\t<Link to={`/detail/${m.imdbID}`} className='list-item'>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={m.title} />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tedge='end'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => removeFavourite(m.imdbID)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DeleteIcon style={{ color: COLORS.RED }} />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../constants/api'\r\nimport useFavourites from '../hooks/useFavourites'\r\nimport useFetch from '../hooks/useFetch'\r\n\r\nimport COLORS from '../constants/colors'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport StarIcon from '@material-ui/icons/Star'\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nconst Bold = ({ children }) => (\r\n\t<span style={{ fontWeight: 'bold' }}>{children}</span>\r\n)\r\n\r\nexport default function MovieDetailPage({ match, history }) {\r\n\tconst [movie, setMovie] = useState(null)\r\n\tconst { addFavourite, isInFavourites, removeFavourite } = useFavourites()\r\n\tconst fetchData = useFetch()\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData('http://www.omdbapi.com/', {\r\n\t\t\tapikey: API.API_KEY,\r\n\t\t\ti: match.params.id,\r\n\t\t}).then(data => {\r\n\t\t\tsetMovie(data)\r\n\t\t})\r\n\t})\r\n\r\n\tconst starClicked = () => {\r\n\t\tif (movie && isInFavourites(movie.imdbID)) {\r\n\t\t\tremoveFavourite(movie.imdbID)\r\n\t\t} else {\r\n\t\t\taddFavourite({ imdbID: movie.imdbID, title: movie.Title })\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ padding: 20 }}>\r\n\t\t\t{movie ? (\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\tavatar={<Avatar aria-label='recipe'>{movie.imdbRating}</Avatar>}\r\n\t\t\t\t\t\taction={\r\n\t\t\t\t\t\t\t<IconButton aria-label='settings' onClick={starClicked}>\r\n\t\t\t\t\t\t\t\t{isInFavourites(movie.imdbID) ? (\r\n\t\t\t\t\t\t\t\t\t<StarIcon style={{ color: COLORS.YELLOW }} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<StarBorderIcon />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={movie.Title}\r\n\t\t\t\t\t\tsubheader={movie.Released}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\timage={movie.Poster}\r\n\t\t\t\t\t\ttitle={movie.Title}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\theight: 0,\r\n\t\t\t\t\t\t\tpaddingTop: '50%',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography variant='body2' color='textSecondary' component='p'>\r\n\t\t\t\t\t\t\t{movie.Plot}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t<Typography>{movie.Genre}</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{movie.Country} / {movie.Year} / {movie.Runtime}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<Bold>Director:</Bold> {movie.Director}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<Bold>Writers:</Bold> {movie.Writer}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<Bold>Actors:</Bold> {movie.Actors}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t<Bold>Earnings:</Bold> {movie.BoxOffice}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport './App.css'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store'\r\n\r\nimport Nav from './components/Nav'\r\nimport MovieSearchPage from './pages/MovieSearchPage'\r\nimport FavouriteMoviesPage from './pages/FavouriteMoviesPage'\r\nimport MovieDetailPage from './pages/MovieDetailPage'\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Router>\r\n\t\t\t\t<div className='App'>\r\n\t\t\t\t\t<Nav />\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path='/fav' component={FavouriteMoviesPage} />\r\n\t\t\t\t\t\t<Route path='/detail/:id' component={MovieDetailPage} />\r\n\t\t\t\t\t\t<Route path='/' component={MovieSearchPage} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}