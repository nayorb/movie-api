(this["webpackJsonpmovie-api"]=this["webpackJsonpmovie-api"]||[]).push([[0],{71:function(e,t,a){e.exports=a(83)},76:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),i=(a(76),a(19)),o=a(24),u=a(17),m=a(16),s=a(30),E=a(28),f=a(38),d=function(){return[function(e){return JSON.parse(localStorage.getItem(e))},function(e,t){localStorage.setItem(e,JSON.stringify(t))}]}(),v=Object(E.a)(d,2),b=v[0],p=v[1],y={searchText:"",activePage:1,totalPages:0,movies:[],favourites:b("favs")||[]},g=Object(f.b)((function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_SEARCH_TEXT":return Object(s.a)({},e,{searchText:n,activePage:1});case"SET_ACTIVE_PAGE":return Object(s.a)({},e,{activePage:n});case"SET_TOTAL_PAGES":return Object(s.a)({},e,{totalPages:n});case"SET_MOVIES":return Object(s.a)({},e,{movies:n});case"ADD_FAVOURITE":var r=[].concat(Object(m.a)(e.favourites),[n]);return p("favs",r),Object(s.a)({},e,{favourites:r});case"REMOVE_FAVOURITE":var l=e.favourites.filter((function(e){return e.imdbID!==n}));return p("favs",l),Object(s.a)({},e,{favourites:l});default:return e}}),y),h={RED:"#9d0b0b",YELLOW:"#c9bf32",PRIMARY:"#3f51b5",WHITE:"#f9f9f9"},O=a(113),I=a(117),T=a(118);function S(){return r.a.createElement(O.a,{position:"static"},r.a.createElement(I.a,null,r.a.createElement(i.b,{to:"/"},r.a.createElement(T.a,null,"Search")),r.a.createElement(i.b,{to:"/fav"},r.a.createElement(T.a,{style:{marginLeft:10}},"Favourites"))))}var A=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="";return t&&(a="?"+Object.keys(t).reduce((function(e,a,n){return e+=0!==n?"&":"",e+="".concat(a,"=").concat(t[a])}),"")),fetch(e+a).then((function(e){return e.json()}))}},j={API_KEY:"bee67ab4"},P=function(e){return new Array(e).fill().map((function(e,t){return t+1}))},_={marginRight:2};function D(e){var t=e.totalPages,a=e.activePage,n=e.setPage;return t&&t>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:_,onClick:function(){return n(a-1)},disabled:a<=1},"<"),P(t).map((function(e){return r.a.createElement("button",{style:_,onClick:function(){return n(e)},disabled:e===a,key:e},e)})),r.a.createElement("button",{style:_,onClick:function(){return n(a+1)},disabled:a>=t},">")):null}var R=function(){var e=Object(u.c)((function(e){return e})),t=e.activePage,a=e.searchText,l=e.totalPages,c=Object(u.b)(),i=A(),o=function(){i("http://www.omdbapi.com/",{apikey:j.API_KEY,s:a,page:t}).then((function(e){var t,a;t=e.Search,c(function(e){return{type:"SET_MOVIES",payload:e}}(t)),a=Math.ceil(parseInt(e.totalResults)/10),c(function(e){return{type:"SET_TOTAL_PAGES",payload:e}}(a))}))};return Object(n.useEffect)((function(){a&&o()}),[t,a]),[function(e){return c(function(e){return{type:"SET_SEARCH_TEXT",payload:e}}(e))},r.a.createElement(D,{activePage:t,totalPages:l,setPage:function(e){return c(function(e){return{type:"SET_ACTIVE_PAGE",payload:e}}(e))}})]},k=function(){var e=Object(u.c)((function(e){return e.favourites})),t=Object(u.b)();return{addFavourite:function(e){return t({type:"ADD_FAVOURITE",payload:e})},removeFavourite:function(e){return t({type:"REMOVE_FAVOURITE",payload:e})},isInFavourites:function(t){return e.some((function(e){return e.imdbID===t}))},favourites:e}},F=a(128),C=a(119),w=a(120),V=a(121),L=a(122),x=a(42),M=a.n(x),Y=a(43),W=a.n(Y);function G(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],l=t[1],c=Object(u.c)((function(e){return e.movies})),o=k().isInFavourites,m=R(),s=Object(E.a)(m,2),f=s[0],d=s[1],v=function(){return a.length>0&&a.length<3};return r.a.createElement("div",{style:{padding:20}},r.a.createElement("h1",null,"MovieSearch"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("form",{style:{flex:1},noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),a.length>=3&&f(a)}},r.a.createElement(F.a,{error:v(),style:{width:"-webkit-fill-available"},label:v()?"At least 3 characters.":"Search",variant:"outlined",onChange:function(e){return l(e.target.value)},value:a})),r.a.createElement(T.a,{color:"primary",variant:"contained",icon:"search",disabled:a.length<3,onClick:function(){return f(a)},style:{marginLeft:20}},"Search")),r.a.createElement(C.a,null,c&&c.map((function(e,t){return r.a.createElement(w.a,{key:t},r.a.createElement(i.b,{to:"/detail/".concat(e.imdbID),className:"list-item"},r.a.createElement(V.a,{primary:e.Title})),r.a.createElement(L.a,null,o(e.imdbID)?r.a.createElement(M.a,{style:{color:h.YELLOW}}):r.a.createElement(W.a,null)))}))),d)}var N=a(123),J=a(60),U=a.n(J);function H(){var e=k(),t=e.removeFavourite,a=e.favourites;return r.a.createElement("div",{style:{padding:20}},r.a.createElement("h1",null,"FavouriteMovies"),r.a.createElement(C.a,null,a&&a.map((function(e,a){return r.a.createElement(w.a,{key:a},r.a.createElement(i.b,{to:"/detail/".concat(e.imdbID),className:"list-item"},r.a.createElement(V.a,{primary:e.title})),r.a.createElement(L.a,null,r.a.createElement(N.a,{edge:"end","aria-label":"delete",onClick:function(){return t(e.imdbID)}},r.a.createElement(U.a,{style:{color:h.RED}}))))}))))}var K=a(124),B=a(125),X=a(126),q=a(127),z=a(131),Q=a(25),Z=function(e){var t=e.children;return r.a.createElement("span",{style:{fontWeight:"bold"}},t)};function $(e){var t=e.match,a=(e.history,Object(n.useState)(null)),l=Object(E.a)(a,2),c=l[0],i=l[1],o=k(),u=o.addFavourite,m=o.isInFavourites,s=o.removeFavourite,f=A();Object(n.useEffect)((function(){f("http://www.omdbapi.com/",{apikey:j.API_KEY,i:t.params.id}).then((function(e){i(e)}))}));return r.a.createElement("div",{style:{padding:20}},c?r.a.createElement(K.a,null,r.a.createElement(B.a,{avatar:r.a.createElement(z.a,{"aria-label":"recipe"},c.imdbRating),action:r.a.createElement(N.a,{"aria-label":"settings",onClick:function(){c&&m(c.imdbID)?s(c.imdbID):u({imdbID:c.imdbID,title:c.Title})}},m(c.imdbID)?r.a.createElement(M.a,{style:{color:h.YELLOW}}):r.a.createElement(W.a,null)),title:c.Title,subheader:c.Released}),r.a.createElement(X.a,{image:c.Poster,title:c.Title,style:{height:0,paddingTop:"50%"}}),r.a.createElement(q.a,null,r.a.createElement(Q.a,{variant:"body2",color:"textSecondary",component:"p"},c.Plot)),r.a.createElement(q.a,null,r.a.createElement(Q.a,{paragraph:!0},r.a.createElement(Q.a,null,c.Genre),r.a.createElement(Q.a,null,c.Country," / ",c.Year," / ",c.Runtime)),r.a.createElement(Q.a,{paragraph:!0},r.a.createElement(Q.a,null,r.a.createElement(Z,null,"Director:")," ",c.Director),r.a.createElement(Q.a,null,r.a.createElement(Z,null,"Writers:")," ",c.Writer),r.a.createElement(Q.a,null,r.a.createElement(Z,null,"Actors:")," ",c.Actors),r.a.createElement(Q.a,null,r.a.createElement(Z,null,"Earnings:")," ",c.BoxOffice)))):null)}var ee=a(130);var te=function(){return r.a.createElement(u.a,{store:g},r.a.createElement(ee.a,null),r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/fav",component:H}),r.a.createElement(o.a,{path:"/detail/:id",component:$}),r.a.createElement(o.a,{path:"/",component:G})))))};c.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.9acbc632.chunk.js.map