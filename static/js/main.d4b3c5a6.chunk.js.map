{"version":3,"sources":["constants/api.js","Api.js","hooks/useFetch.js","sagas/movies.js","reducers/search.js","hooks/useLocalStorage.js","reducers/favourites.js","reducers/movies.js","store.js","components/Nav.js","actions/movies.js","components/Pagination.js","hooks/useSearch.js","actions/search.js","hooks/useFavourites.js","actions/favourites.js","constants/colors.js","pages/MovieSearchPage.js","pages/FavouriteMoviesPage.js","pages/MovieDetailPage.js","App.js","index.js"],"names":["fetchData","urlBase","query","params","Object","keys","reduce","acc","key","idx","fetch","then","success","json","useFetch","fetchMovies","searchText","page","API","apikey","s","fetchMovieDetails","id","i","getMovieDetails","watchMovieDetailRequest","getMovies","searchRequest","action","put","type","payload","call","data","message","takeEvery","Search","Math","ceil","parseInt","totalResults","initialState","activePage","totalPages","JSON","parse","localStorage","getItem","setItem","stringify","useLocalStorage","load","save","movies","selectedMovie","rootSaga","sagaMiddleware","createSagaMiddleware","all","values","movieSagas","map","fork","store","createStore","combineReducers","search","state","favourites","favouritesWithoutRemoved","filter","f","imdbID","applyMiddleware","run","Nav","AppBar","position","Toolbar","to","Button","style","marginLeft","getArray","n","Array","fill","_","buttonStyle","marginRight","Pagination","setPage","onClick","disabled","useSearch","useSelector","dispatch","useDispatch","useEffect","text","setSearchTextAction","setActivePageAction","useFavourites","addFavourite","fav","removeFavourite","isInFavourites","some","RED","YELLOW","PRIMARY","WHITE","MovieSearchPage","useState","setSearchText","searchNotValid","length","padding","display","flex","noValidate","autoComplete","onSubmit","e","preventDefault","TextField","error","width","label","variant","onChange","target","value","color","icon","List","m","ListItem","className","ListItemText","primary","Title","ListItemSecondaryAction","COLORS","FavouriteMoviesPage","title","IconButton","edge","aria-label","Bold","children","fontWeight","MovieDetailPage","match","movie","history","Card","CardHeader","avatar","Avatar","imdbRating","subheader","Released","CardMedia","image","Poster","height","paddingTop","CardContent","Typography","component","Plot","Genre","Country","Year","Runtime","Director","Writer","Actors","BoxOffice","App","CssBaseline","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4b3c5a6.chunk.js","sourcesContent":["export default {\n\tAPI_KEY: 'bee67ab4',\n\tMAIN_URL: 'https://www.omdbapi.com/',\n}\n","import useFetch from './hooks/useFetch'\nimport API from './constants/api'\n\nconst fetchData = useFetch()\n\nexport const fetchMovies = ({ searchText, page }) => {\n\treturn fetchData(API.MAIN_URL, {\n\t\tapikey: API.API_KEY,\n\t\ts: searchText,\n\t\tpage: page,\n\t})\n}\n\nexport const fetchMovieDetails = ({ id }) => {\n\treturn fetchData(API.MAIN_URL, {\n\t\tapikey: API.API_KEY,\n\t\ti: id,\n\t})\n}\n","const useFetch = () => {\n\treturn (urlBase, query = null) => {\n\t\tlet params = ''\n\t\tif (query) {\n\t\t\tparams =\n\t\t\t\t'?' +\n\t\t\t\tObject.keys(query).reduce((acc, key, idx) => {\n\t\t\t\t\tacc += idx !== 0 ? '&' : ''\n\t\t\t\t\tacc += `${key}=${query[key]}`\n\t\t\t\t\treturn acc\n\t\t\t\t}, '')\n\t\t}\n\t\treturn fetch(urlBase + params).then(success => success.json())\n\t}\n}\n\nexport default useFetch\n","import { call, put, takeEvery } from 'redux-saga/effects'\nimport { fetchMovieDetails, fetchMovies } from '../Api'\n\nfunction* getMovieDetails(action) {\n\ttry {\n\t\tyield put({ type: 'SET_SELECTED_MOVIE', payload: null })\n\t\tconst data = yield call(fetchMovieDetails, {\n\t\t\tid: action.payload.id,\n\t\t})\n\t\tyield put({ type: 'SET_SELECTED_MOVIE', payload: data })\n\t} catch (e) {\n\t\tyield put({ type: 'MOVIE_FETCH_FAILED', message: e.message })\n\t}\n}\n\nexport function* watchMovieDetailRequest() {\n\tyield takeEvery('MOVIE_FETCH_REQUESTED', getMovieDetails)\n}\n\nfunction* getMovies(action) {\n\ttry {\n\t\tconst data = yield call(fetchMovies, {\n\t\t\tsearchText: action.payload.searchText,\n\t\t\tpage: action.payload.page,\n\t\t})\n\t\tyield put({ type: 'SET_MOVIES', payload: data.Search })\n\t\tyield put({\n\t\t\ttype: 'SET_TOTAL_PAGES',\n\t\t\tpayload: Math.ceil(parseInt(data.totalResults) / 10),\n\t\t})\n\t} catch (e) {\n\t\tyield put({ type: 'MOVIE_SEARCH_FAILED', message: e.message })\n\t}\n}\n\nexport function* searchRequest() {\n\tyield takeEvery('MOVIE_SEARCH_REQUESTED', getMovies)\n}\n","const initialState = {\n\tsearchText: '',\n\tactivePage: 1,\n\ttotalPages: 0,\n}\n\nexport default (state = initialState, { type, payload }) => {\n\tswitch (type) {\n\t\tcase 'SET_SEARCH_TEXT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearchText: payload,\n\t\t\t\tactivePage: 1,\n\t\t\t}\n\t\tcase 'SET_ACTIVE_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactivePage: payload,\n\t\t\t}\n\t\tcase 'SET_TOTAL_PAGES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotalPages: payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","const useLocalStorage = () => {\n\tconst load = key => {\n\t\treturn JSON.parse(localStorage.getItem(key))\n\t}\n\n\tconst save = (key, payload) => {\n\t\tlocalStorage.setItem(key, JSON.stringify(payload))\n\t}\n\n\treturn [load, save]\n}\n\nexport default useLocalStorage\n","import useLocalStorage from '../hooks/useLocalStorage'\n\nconst [load, save] = useLocalStorage()\n\nexport default (state = load('favs') || [], { type, payload }) => {\n\tswitch (type) {\n\t\tcase 'ADD_FAVOURITE':\n\t\t\tconst favourites = [...state, payload]\n\t\t\tsave('favs', favourites)\n\t\t\treturn favourites\n\t\tcase 'REMOVE_FAVOURITE':\n\t\t\tconst favouritesWithoutRemoved = state.filter(f => f.imdbID !== payload)\n\t\t\tsave('favs', favouritesWithoutRemoved)\n\t\t\treturn favouritesWithoutRemoved\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","const initialState = {\n\tmovies: [],\n\tselectedMovie: null,\n}\n\nexport default (state = initialState, { type, payload }) => {\n\tswitch (type) {\n\t\tcase 'SET_MOVIES':\n\t\t\treturn { ...state, movies: payload }\n\t\tcase 'SET_SELECTED_MOVIE':\n\t\t\treturn { ...state, selectedMovie: payload }\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { all, fork } from 'redux-saga/effects'\n\nimport * as movieSagas from './sagas/movies'\n\nimport search from './reducers/search'\nimport favourites from './reducers/favourites'\nimport movies from './reducers/movies'\n\nconst sagaMiddleware = createSagaMiddleware()\n\nfunction* rootSaga() {\n\tyield all([...Object.values(movieSagas).map(fork)])\n}\n\nexport const store = createStore(\n\tcombineReducers({\n\t\tsearch,\n\t\tfavourites,\n\t\tmovies,\n\t}),\n\tapplyMiddleware(sagaMiddleware)\n)\n\nsagaMiddleware.run(rootSaga)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Button from '@material-ui/core/Button'\n\nexport default function Nav() {\n\treturn (\n\t\t<AppBar position='static'>\n\t\t\t<Toolbar>\n\t\t\t\t<Link to='/'>\n\t\t\t\t\t<Button>Search</Button>\n\t\t\t\t</Link>\n\t\t\t\t<Link to='/fav'>\n\t\t\t\t\t<Button style={{ marginLeft: 10 }}>Favourites</Button>\n\t\t\t\t</Link>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n","export const setMoviesAction = movies => ({\n\ttype: 'SET_MOVIES',\n\tpayload: movies,\n})\n","import React from 'react'\n\nconst getArray = n => new Array(n).fill().map((_, i) => i + 1)\n\nconst buttonStyle = {\n\tmarginRight: 2,\n}\n\nexport default function Pagination({ totalPages, activePage, setPage }) {\n\treturn totalPages && totalPages > 0 ? (\n\t\t<>\n\t\t\t<button\n\t\t\t\tstyle={buttonStyle}\n\t\t\t\tonClick={() => setPage(activePage - 1)}\n\t\t\t\tdisabled={activePage <= 1}\n\t\t\t>\n\t\t\t\t{'<'}\n\t\t\t</button>\n\t\t\t{getArray(totalPages).map(n => (\n\t\t\t\t<button\n\t\t\t\t\tstyle={buttonStyle}\n\t\t\t\t\tonClick={() => setPage(n)}\n\t\t\t\t\tdisabled={n === activePage}\n\t\t\t\t\tkey={n}\n\t\t\t\t>\n\t\t\t\t\t{n}\n\t\t\t\t</button>\n\t\t\t))}\n\t\t\t<button\n\t\t\t\tstyle={buttonStyle}\n\t\t\t\tonClick={() => setPage(activePage + 1)}\n\t\t\t\tdisabled={activePage >= totalPages}\n\t\t\t>\n\t\t\t\t{'>'}\n\t\t\t</button>\n\t\t</>\n\t) : null\n}\n","import React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setMoviesAction } from '../actions/movies'\nimport { fetchMovies } from '../Api'\n\nimport {\n\tsetTotalPagesAction,\n\tsetSearchTextAction,\n\tsetActivePageAction,\n} from '../actions/search'\n\nimport Pagination from '../components/Pagination'\n\nconst useSearch = () => {\n\tconst { activePage, searchText, totalPages } = useSelector(\n\t\tstate => state.search\n\t)\n\tconst dispatch = useDispatch()\n\n\tconst setActivePage = page => dispatch(setActivePageAction(page))\n\tconst setSearchText = text => dispatch(setSearchTextAction(text))\n\n\tuseEffect(() => {\n\t\tif (searchText) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'MOVIE_SEARCH_REQUESTED',\n\t\t\t\tpayload: {\n\t\t\t\t\tsearchText,\n\t\t\t\t\tpage: activePage,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}, [activePage, searchText])\n\n\treturn [\n\t\tsetSearchText,\n\t\t<Pagination\n\t\t\tactivePage={activePage}\n\t\t\ttotalPages={totalPages}\n\t\t\tsetPage={setActivePage}\n\t\t/>,\n\t]\n}\n\nexport default useSearch\n","export const setSearchTextAction = text => ({\n\ttype: 'SET_SEARCH_TEXT',\n\tpayload: text,\n})\n\nexport const setActivePageAction = page => ({\n\ttype: 'SET_ACTIVE_PAGE',\n\tpayload: page,\n})\n\nexport const setTotalPagesAction = total => ({\n\ttype: 'SET_TOTAL_PAGES',\n\tpayload: total,\n})\n","import { useSelector, useDispatch } from 'react-redux'\nimport {\n\tremoveFavouriteAction,\n\taddFavouriteAction,\n} from '../actions/favourites'\n\nconst useFavourites = () => {\n\tconst favourites = useSelector(state => state.favourites)\n\tconst dispatch = useDispatch()\n\n\tconst removeFavourite = imdbID => dispatch(removeFavouriteAction(imdbID))\n\tconst addFavourite = fav => dispatch(addFavouriteAction(fav))\n\tconst isInFavourites = imdbID => favourites.some(f => f.imdbID === imdbID)\n\n\treturn { addFavourite, removeFavourite, isInFavourites, favourites }\n}\n\nexport default useFavourites\n","export const addFavouriteAction = movie => ({\n\ttype: 'ADD_FAVOURITE',\n\tpayload: movie,\n})\n\nexport const removeFavouriteAction = id => ({\n\ttype: 'REMOVE_FAVOURITE',\n\tpayload: id,\n})\n","export default {\n\tRED: '#9d0b0b',\n\tYELLOW: '#c9bf32',\n\tPRIMARY: '#3f51b5',\n\tWHITE: '#f9f9f9',\n}\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport useSearch from '../hooks/useSearch'\nimport useFavourites from '../hooks/useFavourites'\nimport COLORS from '../constants/colors'\n\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport StarIcon from '@material-ui/icons/Star'\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\n\nimport { Link } from 'react-router-dom'\n\nexport default function MovieSearchPage() {\n\tconst [searchText, setSearchText] = useState('')\n\tconst movies = useSelector(state => state.movies.movies)\n\n\tconst { isInFavourites } = useFavourites()\n\n\tconst [search, Pagination] = useSearch()\n\n\tconst searchNotValid = () => searchText.length > 0 && searchText.length < 3\n\n\treturn (\n\t\t<div style={{ padding: 20 }}>\n\t\t\t<h1>MovieSearch</h1>\n\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t<form\n\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\tnoValidate\n\t\t\t\t\tautoComplete='off'\n\t\t\t\t\tonSubmit={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tif (searchText.length >= 3) {\n\t\t\t\t\t\t\tsearch(searchText)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\terror={searchNotValid()}\n\t\t\t\t\t\tstyle={{ width: '-webkit-fill-available' }}\n\t\t\t\t\t\tlabel={searchNotValid() ? 'At least 3 characters.' : 'Search'}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tonChange={e => setSearchText(e.target.value)}\n\t\t\t\t\t\tvalue={searchText}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t\t<Button\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\ticon='search'\n\t\t\t\t\tdisabled={searchText.length < 3}\n\t\t\t\t\tonClick={() => search(searchText)}\n\t\t\t\t\tstyle={{ marginLeft: 20 }}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<List>\n\t\t\t\t{movies &&\n\t\t\t\t\tmovies.map((m, i) => (\n\t\t\t\t\t\t<ListItem key={i}>\n\t\t\t\t\t\t\t<Link to={`/detail/${m.imdbID}`} className='list-item'>\n\t\t\t\t\t\t\t\t<ListItemText primary={m.Title} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t{isInFavourites(m.imdbID) ? (\n\t\t\t\t\t\t\t\t\t<StarIcon style={{ color: COLORS.YELLOW }} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<StarBorderIcon />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t</List>\n\t\t\t{Pagination}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport COLORS from '../constants/colors'\n\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport useFavourites from '../hooks/useFavourites'\n\nexport default function FavouriteMoviesPage() {\n\tconst { removeFavourite, favourites } = useFavourites()\n\n\treturn (\n\t\t<div style={{ padding: 20 }}>\n\t\t\t<h1>FavouriteMovies</h1>\n\t\t\t<List>\n\t\t\t\t{favourites &&\n\t\t\t\t\tfavourites.map((m, i) => (\n\t\t\t\t\t\t<ListItem key={i}>\n\t\t\t\t\t\t\t<Link to={`/detail/${m.imdbID}`} className='list-item'>\n\t\t\t\t\t\t\t\t<ListItemText primary={m.title} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tedge='end'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => removeFavourite(m.imdbID)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DeleteIcon style={{ color: COLORS.RED }} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n","import React, { useEffect } from 'react'\n\nimport useFavourites from '../hooks/useFavourites'\n\nimport COLORS from '../constants/colors'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport StarIcon from '@material-ui/icons/Star'\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport CardContent from '@material-ui/core/CardContent'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst Bold = ({ children }) => (\n\t<span style={{ fontWeight: 'bold' }}>{children}</span>\n)\n\nexport default function MovieDetailPage({ match, history }) {\n\tconst movie = useSelector(state => state.movies.selectedMovie)\n\tconst dispatch = useDispatch()\n\tconst { addFavourite, isInFavourites, removeFavourite } = useFavourites()\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: 'MOVIE_FETCH_REQUESTED',\n\t\t\tpayload: {\n\t\t\t\tid: match.params.id,\n\t\t\t},\n\t\t})\n\t}, [match.params.id])\n\n\tconst starClicked = () => {\n\t\tif (movie && isInFavourites(movie.imdbID)) {\n\t\t\tremoveFavourite(movie.imdbID)\n\t\t} else {\n\t\t\taddFavourite({ imdbID: movie.imdbID, title: movie.Title })\n\t\t}\n\t}\n\n\treturn (\n\t\t<div style={{ padding: 20 }}>\n\t\t\t{movie ? (\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader\n\t\t\t\t\t\tavatar={<Avatar aria-label='recipe'>{movie.imdbRating}</Avatar>}\n\t\t\t\t\t\taction={\n\t\t\t\t\t\t\t<IconButton aria-label='settings' onClick={starClicked}>\n\t\t\t\t\t\t\t\t{isInFavourites(movie.imdbID) ? (\n\t\t\t\t\t\t\t\t\t<StarIcon style={{ color: COLORS.YELLOW }} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<StarBorderIcon />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={movie.Title}\n\t\t\t\t\t\tsubheader={movie.Released}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardMedia\n\t\t\t\t\t\timage={movie.Poster}\n\t\t\t\t\t\ttitle={movie.Title}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t\tpaddingTop: '50%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography variant='body2' color='textSecondary' component='p'>\n\t\t\t\t\t\t\t{movie.Plot}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Typography>{movie.Genre}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t{movie.Country} / {movie.Year} / {movie.Runtime}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Director:</Bold> {movie.Director}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Writers:</Bold> {movie.Writer}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Actors:</Bold> {movie.Actors}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Bold>Earnings:</Bold> {movie.BoxOffice}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t) : null}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport './App.css'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { Provider } from 'react-redux'\nimport { store } from './store'\n\nimport Nav from './components/Nav'\nimport MovieSearchPage from './pages/MovieSearchPage'\nimport FavouriteMoviesPage from './pages/FavouriteMoviesPage'\nimport MovieDetailPage from './pages/MovieDetailPage'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<CssBaseline />\n\t\t\t<Router>\n\t\t\t\t<div className='App'>\n\t\t\t\t\t<Nav />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/fav' component={FavouriteMoviesPage} />\n\t\t\t\t\t\t<Route path='/detail/:id' component={MovieDetailPage} />\n\t\t\t\t\t\t<Route path='/' component={MovieSearchPage} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</Provider>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}